{"version":3,"sources":["history.ts","App.tsx","registerServiceWorker.ts","index.tsx"],"names":["createHistory","basename","process","imageUrlWithId","recipeId","toString","durationRangeToRange","dr","mx","res","min","max","rangeToDurationRange","r","Object","assign","undefined","serializeDurationRange","deserializeDurationRange","s","p","split","length","Number","parseInt","matchDuration","n","crit","describeDuration","AppNavbar","props","_this","classCallCheck","this","_super","call","toggle","bind","assertThisInitialized","state","isOpen","react","Navbar","color","sticky","light","expand","NavbarBrand","Link","to","NavbarToggler","onClick","Collapse","navbar","Nav","className","NavItem","NavLink","href","setState","React","IngredientRow","Badge","ing","marking","name","detail","amount","RecipeDetail","recipe","recipes","recipeWithId","match","params","id","Row","Col","src","title","comment","index_esm","prep_duration","cook_duration","kind","difficulty","genre","go_index_esm","calorie","md","lg","yield","Table","hover","size","ingredients","map","i","App_IngredientRow","key","instructions","RecipeItem","Card","CardImg","top","width","CardBody","CardTitle","CardText","CheckBoxRow","_this2","_super2","_this3","xs","Label","values","val","FormGroup","inline","check","Input","type","value","checked","indexOf","e","currentTarget","idx","cb","key_","update","$splice","$push","SliderRow","_this4","_super3","handleChange","format","js_default","a","formatLabel","range","minValue","maxValue","onChange","concat","unit","value2ingredientItem","Map","forEach","group","options","item","set","Sidebar","_this5","_super4","GENRES","DIFFICULTY","KIND","query","queryOption2selectOption","onSubmit","handleRange","handleSelectChange","shouldCreateEnabled","createNewOption","filter","k","v","$merge","defineProperty","newValue","actionMeta","console","log","action","inputValue","selectValue","optionLabel","option","RegExp","test","get","_this$state","Form","row","for","hidden","placeholder","keyword","App_CheckBoxRow","App_SliderRow","prepDuration","cookDuration","Creatable_default","isClearable","isSearchable","isMulti","closeMenuOnSelect","getOptionLabel","x","getOptionValue","formatGroupLabel","isValidNewOption","getNewOptionData","filterOption","Button","selectOption2queryOption","q","join","excludeIngredients","queryString","serializeSearchQuery","history","push","preventDefault","SearchResult","withRouter","urlQuery","deserializeSearchQuery","location","search","results","includes","_ret","ings","Set","_step","_iterator","_createForOfIteratorHelper","done","some","has","err","f","shouldContain","App_Sidebar","describeSearchQuery","CardColumns","App_RecipeItem","App","Router","App_AppNavbar","Container","fluid","Route","exact","path","component","isLocalhost","Boolean","window","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","ReactDOM","src_App_0","document","getElementById","URL","origin","addEventListener","fetch","response","status","headers","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.46fbef66.chunk.js","sourcesContent":["import createHistory from 'history/createBrowserHistory';\nexport default createHistory({basename: process.env.PUBLIC_URL});\n","import * as React from 'react';\nimport { Router, Route, Link, RouteComponentProps, withRouter } from 'react-router-dom';\nimport { Container, Form, FormGroup, Label, FormText, Input, Row, Col, NavbarBrand, Navbar, NavbarToggler, Collapse, Nav, NavItem, NavLink, Card, CardImg, CardTitle, CardBody, CardColumns, CardText, Table, Badge, Button } from 'reactstrap';\nimport { FaClock, FaUtensils, FaTachometerAlt, FaFlagCheckered, FaHourglass } from 'react-icons/fa';\nimport { GoFlame } from 'react-icons/go';\nimport InputRange from 'react-input-range';\nimport CreatableSelect from 'react-select/lib/Creatable';\nimport * as queryString from 'query-string';\nimport update from 'immutability-helper';\nimport './App.css';\nimport recipes from './recipes.json';\nimport ingredients from './ingredients.json';\nimport history from './history';\nimport 'react-input-range/lib/css/index.css';\n\nconst recipeWithId = (recipeId: number) => recipes[recipeId - 1429];\nconst imageUrlWithId = (recipeId: number) => process.env.PUBLIC_URL + '/imgs/' + recipeId.toString() + '.jpg';\n\n\ninterface Ingredient {\n  name: string;\n  detail?: string;\n  amount?: string;\n  marking?: string;\n}\n  \ninterface Recipe {\n  id: number;\n  title: string;\n  cook_duration: number;\n  calorie: number;\n  genre: string;\n  kind: string;\n  difficulty: string;\n  prep_duration: number;\n  comment: string;\n  ingredients: Ingredient[]\n  yield: number;\n  instructions: string[]\n}\n\n\ninterface IngredientItem {\n  value: string;\n  kana?: string;\n  alt?: string[];\n}\n\n\ninterface DurationRange {\n  min?: number;\n  max?: number;\n}\n\nfunction durationRangeToRange(dr: DurationRange | undefined, mx: number) {\n  let res = { min: 0, max: mx };\n  if (!dr) { return res; }\n  if (dr.max) { res.max = dr.max; }\n  if (dr.min) { res.min = dr.min; }\n  return res;\n}\n\nfunction rangeToDurationRange(r: DurationRange, mx: number): DurationRange {\n  let res: DurationRange = Object.assign(r);\n  if (res.min === 0) { res.min = undefined; }\n  if (res.max === mx) { res.max = undefined; }\n  return res;\n}\n\nfunction serializeDurationRange(dr: DurationRange): string {\n  let res = ''\n  if (dr.min) { res += dr.min.toString(); }\n  res += '-';\n  if (dr.max) { res += dr.max.toString(); }\n  return res;\n}\n\nfunction deserializeDurationRange(s: string): DurationRange {\n  let res: DurationRange = {};\n  const p = s.split('-');\n  if (p[0].length > 0) { res.min = Number.parseInt(p[0]); }\n  if (p[1].length > 0) { res.max = Number.parseInt(p[1]); }\n  return res;\n}\n\nfunction matchDuration(n: number, crit: DurationRange) {\n  if (crit.min && n < crit.min) { return false; }\n  if (crit.max && n > crit.max) { return false; }\n  return true;\n}\n\nfunction describeDuration(dr: DurationRange) {\n  let res = '';\n  if (dr.min) { res += dr.min.toString(); }\n  res += '～';\n  if (dr.max) { res += dr.max.toString(); }\n  res += '分';\n  return res;\n}\n\ninterface SearchQuery {\n  keyword?: string;\n  genre?: string[];\n  kind?: string[];\n  difficulty?: string[];\n  cookDuration?: DurationRange;\n  prepDuration?: DurationRange;\n  ingredients?: string[];\n  excludeIngredients?: string[];\n}\n\nfunction deserializeSearchQuery(urlQuery: string): SearchQuery {\n  const p = queryString.parse(urlQuery) as any;\n  let res: SearchQuery = {}\n  if ('kw' in p) { res.keyword = p['kw']; }\n  if ('g' in p) { res.genre = p['g'].split(','); }\n  if ('k' in p) { res.kind = p['k'].split(','); }\n  if ('d' in p) { res.difficulty = p['d'].split(','); }\n  if ('cd' in p) { res.cookDuration = deserializeDurationRange(p['cd']); }\n  if ('pd' in p) { res.prepDuration = deserializeDurationRange(p['pd']); }\n  if ('i' in p) { res.ingredients = p['i'].split(','); }\n  if ('ei' in p) { res.excludeIngredients = p['ei'].split(','); }\n  return res;\n}\n\n\nfunction serializeSearchQuery(q: SearchQuery): string {\n  let res = {};\n  if (q.keyword && q.keyword.length > 0) { res['kw'] = q.keyword; }\n  if (q.genre && q.genre.length > 0) { res['g'] = q.genre.join(','); }\n  if (q.kind && q.kind.length > 0) { res['k'] = q.kind.join(','); }\n  if (q.difficulty && q.difficulty.length > 0) { res['d'] = q.difficulty.join(','); }\n  if (q.cookDuration && serializeDurationRange(q.cookDuration) !== '-') { res['cd'] = serializeDurationRange(q.cookDuration); }\n  if (q.prepDuration && serializeDurationRange(q.prepDuration) !== '-') { res['pd'] = serializeDurationRange(q.prepDuration); }\n  if (q.ingredients) { res['i'] = q.ingredients.join(','); }\n  if (q.excludeIngredients) { res['ei'] = q.excludeIngredients.join(','); }\n  return queryString.stringify(res);\n}\n\nfunction describeSearchQuery(q: SearchQuery): string {\n  let p = [];\n  if (q.keyword) { p.push('キーワード：\"' + q.keyword + '\"'); }\n  if (q.genre) { p.push('ジャンル：' + q.genre.join('，')); }\n  if (q.kind) { p.push('種類：' + q.kind.join('，')); }\n  if (q.difficulty) { p.push('難易度：' + q.difficulty.join('，')); }\n  if (q.cookDuration) { p.push('加熱時間：' + describeDuration(q.cookDuration)); }\n  if (q.prepDuration) { p.push('準備時間：' + describeDuration(q.prepDuration)); }\n  if (q.ingredients) { p.push('材料：' + q.ingredients.join('，')); }\n  if (q.excludeIngredients) { p.push('使わない材料：' + q.excludeIngredients.join('，')); }\n  return p.join('　');\n}\n\nfunction shouldContain(q: SearchQuery, r: Recipe): boolean {\n  if (q.keyword && !r.title.includes(q.keyword) && !r.comment.includes(q.keyword)) { return false; }\n  if (q.difficulty && q.difficulty.indexOf(r.difficulty) === -1) { return false; }\n  if (q.genre && q.genre.indexOf(r.genre) === -1) { return false; }\n  if (q.kind && q.kind.indexOf(r.kind) === -1) { return false; }\n  if (q.cookDuration && !matchDuration(r.cook_duration, q.cookDuration)) { return false; }\n  if (q.prepDuration && !matchDuration(r.prep_duration, q.prepDuration)) { return false; }\n  if (q.ingredients || q.excludeIngredients) {\n    const ings = new Set(r.ingredients.map((ing) => ing.name));\n    if (q.ingredients) {\n      for (const candsStr of q.ingredients) {\n        const cands = candsStr.split('|');\n        if (!cands.some((s) => ings.has(s))) { return false; }\n      }\n    }\n    if (q.excludeIngredients) {\n      if (q.excludeIngredients.some((s) => ings.has(s))) { return false; }\n    }\n  }\n  return true;\n}\n\nclass AppNavbar extends React.Component<{}, { isOpen: boolean }> {\n  constructor(props: {}) {\n    super(props);\n    this.toggle = this.toggle.bind(this);\n    this.state = { isOpen: false }\n  }\n  public render() {\n    return (\n      <Navbar color=\"light\" sticky=\"top\" light expand=\"sm\">\n        <NavbarBrand><Link to='/'>C4M-E Recipes</Link></NavbarBrand>\n        <NavbarToggler onClick={this.toggle} />\n        <Collapse isOpen={this.state.isOpen} navbar>\n          <Nav className=\"ml-auto\" navbar>\n            <NavItem><NavLink href=\"/?k=前菜\">前菜</NavLink></NavItem>\n            <NavItem><NavLink href=\"/?k=メインディッシュ\">メインディッシュ</NavLink></NavItem>\n            <NavItem><NavLink href=\"/?k=デザート\">デザート</NavLink></NavItem>\n          </Nav>\n        </Collapse>\n      </Navbar>\n    );\n  }\n\n  private toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen\n    });\n  }\n}\n\nconst IngredientRow = (props: { ing: Ingredient }) => {\n  return (<tr><td><Badge color=\"secondary\">{props.ing.marking}</Badge></td><td>{props.ing.name}</td><td>{props.ing.detail}</td><td>{props.ing.amount}</td></tr>);\n}\n\nconst RecipeDetail = (props: RouteComponentProps<{ id: string }>) => {\n  const recipeId = parseInt(props.match.params.id);\n  const recipe = recipeWithId(recipeId);\n  return (\n    <div>\n      <Row>\n        <Col>\n          <img className=\"rounded wide-float-right\" src={imageUrlWithId(recipe.id)} />\n          <h1 className=\"h3\">{recipe.title}</h1>\n          <p className=\"lead\">{recipe.comment}</p>\n          <p>\n            <FaClock />時間：{recipe.prep_duration + recipe.cook_duration}分（準備{recipe.prep_duration}分、加熱{recipe.cook_duration}分）<br />\n            <FaUtensils />種類：{recipe.kind}<br />\n            <FaTachometerAlt />難易度：{recipe.difficulty}<br />\n            <FaFlagCheckered />ジャンル：{recipe.genre}<br />\n            <GoFlame />カロリー：{recipe.calorie}kcal\n          </p>\n        </Col>\n      </Row>\n      <Row className=\"mt-3\">\n        <Col md=\"6\" lg=\"5\">\n          <h3 className=\"mb-3\">材料（{recipe.yield}人分）</h3>\n          <Table hover size=\"sm\">\n            <tbody>\n              {recipe.ingredients.map((ing, i) => {\n                return <IngredientRow key={i} ing={ing} />;\n              })}\n            </tbody>\n          </Table>\n        </Col>\n        <Col md=\"6\" lg=\"7\">\n          <h3>手順</h3>\n          <ol className=\"instructions\">\n            {recipe.instructions.map((s, i) => {\n              return <li key={i}>{s}</li>\n            })}\n          </ol>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nconst RecipeItem = (props: { r: Recipe }) => (\n  <Card>\n    <CardImg top width=\"100%\" src={imageUrlWithId(props.r.id)} />\n    <CardBody>\n      <CardTitle><Link to={'/detail/' + props.r.id.toString()}>{props.r.title}</Link></CardTitle>\n      <CardText>{props.r.comment}</CardText>\n      <CardText>\n        <FaClock />準備時間：{props.r.prep_duration}分<br />\n        <FaHourglass />加熱時間：{props.r.cook_duration}分<br />\n        <FaUtensils />種類：{props.r.kind}<br />\n        <FaTachometerAlt />難易度：{props.r.difficulty}<br />\n        <FaFlagCheckered />ジャンル：{props.r.genre}<br />\n        <GoFlame />カロリー：{props.r.calorie}kcal\n      </CardText>\n    </CardBody>\n  </Card>\n);\n\ninterface CheckBoxRowProps {\n  key_: string;\n  title: string;\n  values: string[];\n  checked: string[] | undefined;\n  cb: (k: string, v: ReadonlyArray<string>) => void;\n}\n\nclass CheckBoxRow extends React.Component<CheckBoxRowProps, {}> {\n  constructor(props: CheckBoxRowProps) {\n    super(props);\n    this.onClick = this.onClick.bind(this);\n  }\n\n  public render() {\n    return (\n      <Row>\n        <Col xs={4}><Label>{this.props.title}</Label>\n        </Col>\n        <Col>\n          {this.props.values.map((val, i) => {\n            return (\n              <FormGroup inline check key={i}>\n                <Label check><Input type=\"checkbox\" value={val} checked={this.props.checked !== undefined && this.props.checked.indexOf(val) !== -1} onClick={this.onClick} />{val}</Label>\n              </FormGroup>\n            );\n          })}\n        </Col>\n      </Row>\n    );\n  }\n\n  private onClick(e: React.FormEvent<HTMLInputElement>) {\n    const val = e.currentTarget.value;\n    const checked = this.props.checked !== undefined ? this.props.checked : [];\n    const idx = checked.indexOf(val);\n    if (idx !== -1) {\n      this.props.cb(this.props.key_, update(checked, { $splice: [[idx, 1]] }));\n    } else {\n      this.props.cb(this.props.key_, update(checked, { $push: [val] }));\n    }\n  }\n}\n\ninterface SliderRowProps {\n  key_: string;\n  title: string;\n  unit: string;\n  max: number;\n  range?: DurationRange;\n  cb: (k: string, v: DurationRange) => void;\n}\n\nclass SliderRow extends React.Component<SliderRowProps> {\n\n  constructor(props: SliderRowProps) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.format = this.format.bind(this);\n  }\n\n  public render() {\n    return (\n      <Row>\n        <Col xs={4}><Label>{this.props.title}</Label>\n        </Col>\n        <Col>\n          <InputRange formatLabel={this.format} value={durationRangeToRange(this.props.range, this.props.max)} minValue={0} maxValue={this.props.max} onChange={this.handleChange} />\n        </Col>\n      </Row>\n    )\n  }\n\n  private format(value: number) {\n    return `${value}${this.props.unit}`;\n  }\n\n  private handleChange(value: any) {\n    this.props.cb(this.props.key_, rangeToDurationRange(value, this.props.max));\n  }\n\n}\n\ninterface SidebarContext {\n  query: SearchQuery;\n  options: IngredientItem[];\n}\n\nconst value2ingredientItem = new Map<string, IngredientItem>();\ningredients.forEach((group) => group.options.forEach((item) => value2ingredientItem.set(item.value, item)));\n\nclass Sidebar extends React.Component<{ query: SearchQuery }, SidebarContext> {\n  private readonly GENRES = { key_: 'genre', title: 'ジャンル', values: ['エスニック', '和風', '洋風', '中華風', 'フレンチ'] };\n  private readonly DIFFICULTY = { key_: 'difficulty', title: '難易度', values: ['簡単', '普通'] };\n  private readonly KIND = { key_: 'kind', title: '種類', values: ['前菜', 'メインディッシュ', 'デザート'] };\n\n  constructor(props: { query: SearchQuery } ) {\n    super(props);\n    this.state = { query: Object.assign({}, props.query), options: this.queryOption2selectOption(props.query.ingredients) };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleRange = this.handleRange.bind(this);\n    this.handleSelectChange = this.handleSelectChange.bind(this);\n    this.shouldCreateEnabled = this.shouldCreateEnabled.bind(this);\n    this.createNewOption = this.createNewOption.bind(this);\n    this.filter = this.filter.bind(this);\n    this.cb = this.cb.bind(this);\n  }\n\n  public cb(k: string, v: any) {\n    // console.log(k, v);\n    this.setState({ query: update(this.state.query, {$merge: { [k]: v }})});\n  }\n\n  public handleSelectChange(newValue: any, actionMeta: any) {\n    console.log(newValue);\n    console.log(actionMeta.action);\n    if (actionMeta.action === 'select-option' || actionMeta.action === 'remove-value' || actionMeta.action === 'clear' || actionMeta.action === 'create-option') {\n      this.setState( { options: newValue } );\n    }\n  }\n\n  public shouldCreateEnabled(inputValue: string, selectValue: any, options: any) {\n    if (!inputValue) { return false; }\n    // FIXME: return false if input value has no regex-match to options\n    return true;\n  }\n\n  public createNewOption(inputValue: string, optionLabel: React.ReactNode) {\n    console.log(inputValue, optionLabel);\n    // FIXME: regex -> '|' delimited list of string\n    return { value: inputValue }; // '青ねぎ|青しそ';\n  }\n\n  public filter(option: any, inputValue: string) {\n    const re = RegExp(inputValue);\n    return re.test(option.value);\n  }\n\n  public queryOption2selectOption(options: string[] | undefined): IngredientItem[] {\n    if (!options) {\n      return [];\n    }\n    function notUndefined<T>(v: T | undefined): v is T { return v !== undefined; }\n    return options.map(v => value2ingredientItem.get(v)).filter(notUndefined);\n  }\n\n  public selectOption2queryOption(options: IngredientItem[]) {\n    if (options.length === 0) {\n      return undefined;\n    }\n    return options.map(v => v.value);\n  }\n\n  public render() {\n    const {query, options} = this.state;\n    return (\n      <Form onSubmit={this.onSubmit}>\n        <FormGroup row>\n          <Label for=\"keyword\" hidden={true}>キーワード</Label>\n          <Input className=\"m-2\" type=\"text\" name=\"keyword\" id=\"keyword\" placeholder=\"キーワード\" value={query.keyword} onChange={this.handleChange} />\n        </FormGroup>\n        <CheckBoxRow {...this.GENRES} checked={query.genre} cb={this.cb} />\n        <CheckBoxRow {...this.DIFFICULTY} checked={query.difficulty} cb={this.cb} />\n        <CheckBoxRow {...this.KIND} checked={query.kind} cb={this.cb} />\n        <SliderRow key_=\"prepDuration\" title=\"準備時間\" unit=\"分\" max={75} range={query.prepDuration} cb={this.cb} />\n        <SliderRow key_=\"cookDuration\" title=\"加熱時間\" unit=\"分\" max={35} range={query.cookDuration} cb={this.cb} />\n        <CreatableSelect<IngredientItem>\n          isClearable\n          isSearchable\n          isMulti\n          closeMenuOnSelect={false}\n          onChange={this.handleSelectChange}\n          options={ingredients}\n          getOptionLabel={ (x: IngredientItem) => x.value }\n          getOptionValue={ (x: IngredientItem) => x.value }\n          formatGroupLabel={ (x) => (<p>{x['genre']}</p>) }\n          value={options}\n          isValidNewOption={this.shouldCreateEnabled}\n          getNewOptionData={this.createNewOption}\n          filterOption={this.filter}\n        />\n        <Button type=\"submit\">検索</Button>\n      </Form>\n    )\n  }\n\n  private handleRange(key: string, mx: number, value: DurationRange) {\n    console.log(key, mx, value, this.state);\n    this.cb(key, rangeToDurationRange(value, mx));\n  }\n\n  private handleChange(e: React.FormEvent<HTMLInputElement>) {\n    this.cb(e.currentTarget.name, e.currentTarget.value);\n  }\n\n  private onSubmit(e: React.FormEvent<HTMLFormElement>) {\n    let query = this.state.query;\n    query.ingredients = this.selectOption2queryOption(this.state.options);\n    const q = serializeSearchQuery(query);\n    history.push('/?' + q);\n    e.preventDefault();\n  }\n}\n\nconst SearchResult = withRouter((props: RouteComponentProps<{}>) => {\n  const q = deserializeSearchQuery(props.location.search);\n  const results = recipes.filter((r) => shouldContain(q, r));\n  return (\n    <Row className=\"page-row\">\n      <Col md=\"3\" className=\"sidebar\">\n        <Sidebar query={q} />\n      </Col>\n      <Col md=\"9\" className=\"results\">\n        <h2>{describeSearchQuery(q)}</h2>\n        <CardColumns>\n          {results.map((recipe) => {\n            return <RecipeItem r={recipe} key={recipe.id} />;\n          })}\n        </CardColumns>\n      </Col>\n    </Row>\n  );\n});\n\nclass App extends React.Component {\n  public render() {\n    return (\n      <Router history={history}>\n        <div>\n          <AppNavbar />\n          <Container fluid={true}>\n            <Route exact path=\"/\" component={SearchResult} />\n            <Route path=\"/detail/:id\" component={RecipeDetail} />\n          </Container>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// tslint:disable:no-console\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the 'N+1' visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL!,\n      window.location.toString()\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker) {\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and\n                // the fresh content will have been added to the cache.\n                // It's the perfect time to display a 'New content is\n                // available; please refresh.' message in your web app.\n                console.log('New content is available; please refresh.');\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // 'Content is cached for offline use.' message.\n                console.log('Content is cached for offline use.');\n              }\n            }\n          };\n        }\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type')!.indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root') as HTMLElement\n);\nregisterServiceWorker();\n"],"sourceRoot":""}